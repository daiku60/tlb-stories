<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.1.6"/><title data-react-helmet="true">Content configuration | The Left Bit Stories</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link data-react-helmet="true" rel="canonical" href="https://random-blog-about-curses-content.com"/><meta data-react-helmet="true" name="description" content="Modern CollectionView applied We are gonna showcase how we are migrating our cells to the new UIContentConfiguration technique. Initial…"/><meta data-react-helmet="true" name="image" content="https://theleftbit.com/banner.jpg"/><meta data-react-helmet="true" property="og:title" content="Content configuration"/><meta data-react-helmet="true" property="og:url" content="https://theleftbit.com/content-configuration"/><meta data-react-helmet="true" property="og:description" content="Modern CollectionView applied We are gonna showcase how we are migrating our cells to the new UIContentConfiguration technique. Initial…"/><meta data-react-helmet="true" property="og:image" content="https://theleftbit.com/banner.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image:alt" content="Modern CollectionView applied We are gonna showcase how we are migrating our cells to the new UIContentConfiguration technique. Initial…"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Content configuration"/><meta data-react-helmet="true" name="twitter:url" content="https://theleftbit.com/content-configuration"/><meta data-react-helmet="true" name="twitter:description" content="Modern CollectionView applied We are gonna showcase how we are migrating our cells to the new UIContentConfiguration technique. Initial…"/><meta data-react-helmet="true" name="twitter:image" content="https://theleftbit.com/banner.jpg"/><meta data-react-helmet="true" name="twitter:image:alt" content="Modern CollectionView applied We are gonna showcase how we are migrating our cells to the new UIContentConfiguration technique. Initial…"/><meta data-react-helmet="true" name="twitter:creator" content="@daiku60"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&amp;display=swap"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/android-chrome-512x512.png"/><link rel="alternate" type="application/rss+xml" title="Minimal Blog - @lekoarts/gatsby-theme-minimal-blog" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=18da62a4c7ee3765dacfe6aaf489674e" type="image/png"/><link rel="icon" href="/favicon.svg?v=18da62a4c7ee3765dacfe6aaf489674e" type="image/svg+xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/webpack-runtime-28d42b8ee0056b4174ff.js"/><link as="script" rel="preload" href="/framework-510ab03d518959fb4fd7.js"/><link as="script" rel="preload" href="/app-cd4d004b529eb3ba49c8.js"/><link as="script" rel="preload" href="/11d48f5fb7ffd1420d6ec4a4a0455767faf7d24e-70108b9763bb8ee32b7c.js"/><link as="script" rel="preload" href="/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-8e02581b1858d789e8c5.js"/><link as="fetch" rel="preload" href="/page-data/content-configuration/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/318001574.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global 1yc3m30">html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#e2e8f0;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}html.theme-ui-__default,.theme-ui-__default html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#e2e8f0;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;}html.theme-ui-dark,.theme-ui-dark html{--theme-ui-colors-text:#cbd5e0;--theme-ui-colors-primary:#9f7aea;--theme-ui-colors-secondary:#7f8ea3;--theme-ui-colors-toggleIcon:#cbd5e0;--theme-ui-colors-background:#1A202C;--theme-ui-colors-heading:#fff;--theme-ui-colors-divide:#2d3748;--theme-ui-colors-muted:#2d3748;}</style><style data-emotion="css-global 1j0yc2g">*{box-sizing:border-box;}html{font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);margin:0;padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global h7esfd">*{box-sizing:inherit;}html{-webkit-text-size-adjust:100%;}img{border-style:none;}pre{font-family:monospace;font-size:1em;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text);color:var(--theme-ui-colors-background);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion="css 1gq7j3t">.css-1gq7j3t{border:0;clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1gq7j3t:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading);color:var(--theme-ui-colors-background);z-index:1;width:auto;height:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1gq7j3t">Skip to content</a><style data-emotion="css 1jrqzhj">.css-1jrqzhj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width: 640px){.css-1jrqzhj{padding:2rem;}}</style><div class="css-1jrqzhj"><style data-emotion="css egutgn">.css-egutgn{margin-bottom:4rem;}@media screen and (min-width: 640px){.css-egutgn{margin-bottom:8rem;}}</style><header class="css-egutgn"><style data-emotion="css 1xwyizx">.css-1xwyizx{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><style data-emotion="css 10klvkd">.css-10klvkd{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><div class="css-10klvkd"><style data-emotion="css uxjqfw">.css-uxjqfw{color:var(--theme-ui-colors-heading);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="The Left Bit Stories - Back to home" class="css-uxjqfw" href="/"><style data-emotion="css 102q2va">.css-102q2va{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width: 640px){.css-102q2va{font-size:1.875rem;}}</style><div class="css-102q2va"><style data-emotion="css 4cffwv">.css-4cffwv{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-4cffwv"><style data-emotion="css xnsvr3">.css-xnsvr3{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion="css mgj796">.css-mgj796{box-sizing:border-box;margin:0;min-width:0;padding:0.5rem;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><div class="css-mgj796"><svg xmlns="http://www.w3.org/2000/svg" width="146" height="32" viewBox="0 0 146 32"><path fill="black" fill-rule="evenodd" d="M7.703 4.158V32H3.557V4.158a.485.485 0 0 0-.483-.487H0V.001h11.131v3.67H8.186a.485.485 0 0 0-.483.487zm97.364 0V32h-4.146V4.158a.485.485 0 0 0-.483-.487h-3.073V.001h11.13v3.67h-2.945a.485.485 0 0 0-.483.487zm-55.178 24.17V32H43.63a2.624 2.624 0 0 1-2.614-2.634V.001H45.2v27.84c0 .27.217.488.484.488h4.206zM35.496 17.836H31.29a.485.485 0 0 0-.483.488v9.519c0 .269.216.487.483.487h4.206V32H29.24a2.624 2.624 0 0 1-2.614-2.634V2.634A2.624 2.624 0 0 1 29.24 0h6.257v3.671H31.29a.485.485 0 0 0-.483.487v9.52c0 .268.216.486.483.486h4.206v3.671zM19.75 0h4.189v32H19.75V18.323a.485.485 0 0 0-.483-.487H17.03a.485.485 0 0 0-.483.487V32h-4.188V0h4.188v13.677c0 .27.216.488.483.488h2.237a.485.485 0 0 0 .483-.488V0zm72.148 3.671a.485.485 0 0 0-.483.487v10.007h4.69v3.67h-4.69V32h-4.182V17.836H52.838a.664.664 0 0 0-.661.666l.119 1.526c0 .914.65 1.698 1.542 1.86l19.119 5.944v4.09l-21.67-6.11c-1.756-.295-2.993-1.41-3.367-3.522a4.373 4.373 0 0 1-.056-.563l-.117-2.157a78.137 78.137 0 0 1 .003-7.14l.101-1.774a4.83 4.83 0 0 1 .42-1.814c.565-1.217 1.622-2.225 2.985-2.465l21.7-6.345v4.091L53.82 10.31a1.886 1.886 0 0 0-1.524 1.856l-.12 1.368c0 .368.297.667.662.667l34.395-.032V2.634A2.624 2.624 0 0 1 89.846 0h6.258v3.671h-4.206zm50.673.487V32h-4.145V4.158a.485.485 0 0 0-.483-.487h-3.074V.001H146v3.67h-2.945a.485.485 0 0 0-.484.487zm-8.615-.487h-.948a.588.588 0 0 0-.586.59V27.74c0 .326.262.59.586.59h.948v3.67H126.7v-3.67h.948a.588.588 0 0 0 .586-.59V4.26a.588.588 0 0 0-.586-.59h-.948V.001H133.956v3.67zM121.17 26.785c0 1.938-1.656 1.86-1.656 1.86h-.781a.485.485 0 0 1-.483-.487v-9.65c0-.27.216-.488.483-.488h.92c1.517 0 1.517 1.705 1.517 1.705v7.06zm-2.92-22.943c0-.27.216-.487.483-.487h.781s1.656-.078 1.656 1.86v7.06s0 1.705-1.516 1.705h-.921a.485.485 0 0 1-.483-.488v-9.65zm3.309 12.633a.488.488 0 0 1-.362-.471v-.008c0-.222.15-.414.362-.471.897-.243 3.185-1.12 3.622-3.828.547-3.385-.1-9.266-1.718-10.523C121.952 0 120.692 0 120.306 0h-3.632a2.624 2.624 0 0 0-2.614 2.634v25.695c0 2.027 1.631 3.671 3.643 3.671h2.603c.385 0 1.645 0 3.156-1.174 1.618-1.257 2.265-7.138 1.718-10.523-.437-2.708-2.725-3.585-3.622-3.828z"></path></svg></div><div class="css-mgj796">Stories</div></div></div></a><style data-emotion="css zut31r">.css-zut31r{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}.css-zut31r:hover,.css-zut31r:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-zut31r"><style data-emotion="css 1m6u41m">.css-1m6u41m{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent);-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon);}.css-1m6u41m:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0, 0);-moz-transform:translate(0, 0);-ms-transform:translate(0, 0);transform:translate(0, 0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;transition:transform 0.45s ease;}.css-1m6u41m:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon),0 23px 0 var(--theme-ui-colors-toggleIcon),23px 0 0 var(--theme-ui-colors-toggleIcon),-23px 0 0 var(--theme-ui-colors-toggleIcon),15px 15px 0 var(--theme-ui-colors-toggleIcon),-15px 15px 0 var(--theme-ui-colors-toggleIcon),15px -15px 0 var(--theme-ui-colors-toggleIcon),-15px -15px 0 var(--theme-ui-colors-toggleIcon);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-1m6u41m"></div></button></div><style data-emotion="css fp1v3n">.css-fp1v3n{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary);-webkit-box-flex-flow:wrap;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-fp1v3n a{color:var(--theme-ui-colors-secondary);}.css-fp1v3n a:hover{color:var(--theme-ui-colors-heading);}</style><div class="css-fp1v3n"><style data-emotion="css 1lx5s1f">.css-1lx5s1f{font-size:1rem;}.css-1lx5s1f a:not(:last-of-type){margin-right:1rem;}@media screen and (min-width: 640px){.css-1lx5s1f{font-size:18px;}}.css-1lx5s1f .active{color:var(--theme-ui-colors-heading);}</style><nav class="css-1lx5s1f"><style data-emotion="css 1fmmdck">.css-1fmmdck{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-1fmmdck:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-1fmmdck" href="/blog">Blog</a><a class="css-1fmmdck" href="/about">About</a><a class="css-1fmmdck" href="/culture">Culture</a></nav><style data-emotion="css 45ghvz">.css-45ghvz{font-size:1rem;}.css-45ghvz a:not(:first-of-type){margin-left:1rem;}@media screen and (min-width: 640px){.css-45ghvz{font-size:18px;}}</style><div class="css-45ghvz"><a href="https://twitter.com/theleftbit" class="css-1fmmdck">Twitter</a><a href="https://github.com/theleftbit" class="css-1fmmdck">Github</a><a href="https://theleftbit.com" class="css-1fmmdck">Homepage</a></div></div></header><style data-emotion="css 1c3blfx">.css-1c3blfx [data-name='live-editor']{font-size:1rem;}.css-1c3blfx [data-name='live-editor'] textarea,.css-1c3blfx [data-name='live-editor'] pre{padding:1rem!important;}.css-1c3blfx [data-name='live-preview']{padding:calc(0.5rem + 10px)!important;background-color:#d2c7ec;}.css-1c3blfx .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-1c3blfx .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-1c3blfx .prism-code{font-size:1.25rem;}}.css-1c3blfx .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1c3blfx .gatsby-highlight[data-language=''] .prism-code,.css-1c3blfx .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-1c3blfx .token{display:inline-block;}.css-1c3blfx p>code,.css-1c3blfx li>code{background-color:var(--theme-ui-colors-gray-2);color:var(--theme-ui-colors-gray-8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-1c3blfx .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1, 22, 39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1c3blfx .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1c3blfx .gatsby-highlight pre code{float:left;min-width:100%;}.css-1c3blfx .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1c3blfx .gatsby-highlight pre[class~="language-javascript"]:before,.css-1c3blfx .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1c3blfx .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-py"]:before,.css-1c3blfx .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1c3blfx .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1c3blfx .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1c3blfx .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1c3blfx .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1c3blfx .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1c3blfx .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1c3blfx .gatsby-highlight pre[class~='language-json']:before,.css-1c3blfx .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1c3blfx .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1c3blfx .gatsby-highlight>code[class*="language-"],.css-1c3blfx .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1, 22, 39);}.css-1c3blfx .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1c3blfx .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1c3blfx .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width: 640px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width: 768px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width: 1024px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx .token-line{padding-right:1rem;}.css-1c3blfx .highlight-line{background-color:rgb(2, 55, 81);border-left:4px solid rgb(2, 155, 206);}.css-1c3blfx .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1c3blfx .react-live-wrapper{position:relative;}.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width: 640px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:-1rem;}}</style><style data-emotion="css albdeh">.css-albdeh{box-sizing:border-box;margin:0;min-width:0;}.css-albdeh [data-name='live-editor']{font-size:1rem;}.css-albdeh [data-name='live-editor'] textarea,.css-albdeh [data-name='live-editor'] pre{padding:1rem!important;}.css-albdeh [data-name='live-preview']{padding:calc(0.5rem + 10px)!important;background-color:#d2c7ec;}.css-albdeh .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-albdeh .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-albdeh .prism-code{font-size:1.25rem;}}.css-albdeh .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-albdeh .gatsby-highlight[data-language=''] .prism-code,.css-albdeh .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-albdeh .token{display:inline-block;}.css-albdeh p>code,.css-albdeh li>code{background-color:var(--theme-ui-colors-gray-2);color:var(--theme-ui-colors-gray-8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-albdeh .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1, 22, 39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-albdeh .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-albdeh .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-albdeh .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-albdeh .gatsby-highlight pre code{float:left;min-width:100%;}.css-albdeh .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-albdeh .gatsby-highlight pre[class~="language-javascript"]:before,.css-albdeh .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-albdeh .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-py"]:before,.css-albdeh .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-albdeh .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-albdeh .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-albdeh .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-albdeh .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-albdeh .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-albdeh .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-albdeh .gatsby-highlight pre[class~='language-json']:before,.css-albdeh .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-albdeh .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-albdeh .gatsby-highlight>code[class*="language-"],.css-albdeh .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1, 22, 39);}.css-albdeh .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-albdeh .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-albdeh .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-albdeh .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-albdeh .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width: 640px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width: 768px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width: 1024px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh .token-line{padding-right:1rem;}.css-albdeh .highlight-line{background-color:rgb(2, 55, 81);border-left:4px solid rgb(2, 155, 206);}.css-albdeh .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-albdeh .react-live-wrapper{position:relative;}.css-albdeh .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width: 640px){.css-albdeh .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 768px){.css-albdeh .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 1024px){.css-albdeh .react-live-wrapper .code-copy-button{right:-1rem;}}</style><div id="skip-nav" class=" css-albdeh"><style data-emotion="css 1aue9xx">.css-1aue9xx{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1aue9xx{font-size:3rem;}}@media screen and (min-width: 768px){.css-1aue9xx{font-size:3rem;}}@media screen and (min-width: 1024px){.css-1aue9xx{font-size:4rem;}}</style><h1 class="css-1aue9xx">Content configuration</h1><style data-emotion="css 15ce8we">.css-15ce8we{color:var(--theme-ui-colors-secondary);margin-top:1rem;font-size:1rem;}.css-15ce8we a{color:var(--theme-ui-colors-secondary);}@media screen and (min-width: 640px){.css-15ce8we{font-size:1rem;}}@media screen and (min-width: 768px){.css-15ce8we{font-size:1.25rem;}}</style><p class="css-15ce8we"><time>16.11.2021</time> — <a class="css-1fmmdck" href="/tags/ui-kit">UIKit</a>, <a class="css-1fmmdck" href="/tags/collection-view">CollectionView</a>, <a class="css-1fmmdck" href="/tags/ui-content-configuration">UIContentConfiguration</a> — <span>3<!-- --> min read</span></p><style data-emotion="css b56ay0">.css-b56ay0{margin-top:4rem;margin-bottom:4rem;}.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0, 0, 0, 0.15) 0px 32px 32px 0px,rgba(0, 0, 0, 0.15) 0px 16px 16px 0px,rgba(0, 0, 0, 0.15) 0px 8px 8px 0px,rgba(0, 0, 0, 0.15) 0px 4px 4px 0px;}@media screen and (min-width: 640px){.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width: 768px){.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-b56ay0"><style data-emotion="css 1u31ba2">.css-1u31ba2{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1u31ba2{font-size:3rem;}}@media screen and (min-width: 768px){.css-1u31ba2{font-size:3rem;}}@media screen and (min-width: 1024px){.css-1u31ba2{font-size:4rem;}}</style><h1 class="css-1u31ba2">Modern CollectionView applied</h1><style data-emotion="css 1ccrm8j">.css-1ccrm8j{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width: 640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width: 768px){.css-1ccrm8j{font-size:1.25rem;}}</style><p class="css-1ccrm8j">We are gonna showcase how we are migrating our cells to the new UIContentConfiguration technique.</p><style data-emotion="css kih3f7">.css-kih3f7{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-kih3f7{font-size:2.25rem;}}@media screen and (min-width: 768px){.css-kih3f7{font-size:2.25rem;}}@media screen and (min-width: 1024px){.css-kih3f7{font-size:3rem;}}</style><h2 class="css-kih3f7">Initial state</h2><p class="css-1ccrm8j">Here we see a simple cell we had in our code.</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><style data-emotion="css dybovu">.css-dybovu{background-color:rgba(107,70,193,0.2);border:none;color:var(--theme-ui-colors-gray-2);cursor:pointer;font-size:14px;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width: 640px){.css-dybovu{font-size:14px;}}@media screen and (min-width: 768px){.css-dybovu{font-size:16px;}}.css-dybovu[disabled]{cursor:not-allowed;}.css-dybovu:not([disabled]):hover{background-color:var(--theme-ui-colors-primary);color:var(--theme-ui-colors-white);}</style><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<style data-emotion="css 15vf505">.css-15vf505{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SimpleCollectionViewCell</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UICollectionViewListCell</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> titleLabel</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UILabel</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> subtitleLabel</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UILabel</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> photoImageView</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIImageView</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">6</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">override</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">CGRect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> frame</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">9</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/// Layout Code</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">11</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">12</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">required</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">init</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">coder aDecoder</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">NSCoder</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token function" style="color:#d73a49">fatalError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal string" style="color:#e3116c">&quot;init(coder:) has not been implemented&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">15</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">16</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">override</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> isSelected</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Bool</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">didSet</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">19</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> isSelected </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">20</span><span class="token plain">                contentView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backgroundColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cellSelectionBackgroundColor</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">21</span><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">22</span><span class="token plain">                contentView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backgroundColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">23</span><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">24</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">25</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">26</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">27</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">override</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> isHighlighted</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Bool</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">didSet</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">29</span><span class="token plain">            contentView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backgroundColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> isHighlighted </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token class-name">UIColor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">systemGray3 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">31</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">32</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">33</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">ViewModel</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Hashable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">34</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> photo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIImage</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">37</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> subtitle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">38</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">39</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">40</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">configureFor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">viewModel</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">ViewModel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">41</span><span class="token plain">        titleLabel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> viewModel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">42</span><span class="token plain">        subtitleLabel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> viewModel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subtitle</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">43</span><span class="token plain">        photoImageView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> viewModel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">photo</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">44</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">45</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p class="css-1ccrm8j">Our custom cell has defines a <code class="css-0">ViewModel</code>, which holds the data we use to render its contents. Whenever we dequeue the cell from the collectionView, we just need to call <code class="css-0">configureFor</code> method to properly populate our subviews with the data.</p><p class="css-1ccrm8j">Here we can see how we implement a UICollectionDiffableDataSource, dequeueing this cell:</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> simpleCellRegistration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">UICollectionView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">CellRegistration</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token class-name">SimpleCollectionViewCell</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">SimpleCollectionViewCell</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">ViewModel</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vm</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain">    cell</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">configureFor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">viewModel</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vm</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> dataSource </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">UICollectionViewDiffableDataSource</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token class-name">Section</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">collectionView</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> collectionView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cv</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">UICollectionViewCell</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> item </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">simpleCell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> vm</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> cv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">dequeueConfiguredReusableCell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">using</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> simpleCellRegistration</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vm</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">10</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">11</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">12</span><span class="token plain"></span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">13</span><span class="token plain"></span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">Section</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">14</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> onlySection</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">15</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">17</span><span class="token plain"></span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Hashable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">18</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">simpleCell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">SimpleCollectionViewCell</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">ViewModel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">19</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p class="css-1ccrm8j">We ensure the type passed to the cell is appropriate by making the <code class="css-0">Item</code> contain that <code class="css-0">SimpleCollectionViewCell.ViewModel</code>, so that when we call the registration handler that type is the ViewModel for this particular item.</p><h2 class="css-kih3f7">Implementing a custom Configuration</h2><p class="css-1ccrm8j">We want to change this ViewModel into the much more powerful and performant <code class="css-0">UIContentConfiguration</code>, wich will handle not only the data the cell needs (id, photo, title and subtitle), but also the cell state, including our custom-defined properties <strong class="css-0">isSelected</strong> and <strong class="css-0">isHighlighted</strong>.</p><p class="css-1ccrm8j">Moreover, we want decouple the new view to UICollectionViewCell. This way, we&#x27;ll have a composable structure that we can reuse elsewhere in our code, if need be.</p><p class="css-1ccrm8j">First we want to take a look at the UIContentConfiguration protocol:</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">protocol</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/// Initializes and returns a new instance of the content view using this configuration.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">makeContentView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/// Returns the configuration updated for the specified state, by applying the configuration&#x27;s default values for that state to any properties that have not been customized.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">updated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIConfigurationState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Self</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">8</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><style data-emotion="css 15rlv7r">.css-15rlv7r li{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width: 640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width: 768px){.css-15rlv7r li{font-size:1.25rem;}}</style><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j"><code class="css-0">makeContentView()</code> ensures that the configuration creates a new view to serve as a contentView for the cell. This view needs to be both a UIView and a UIContentView, which enforces that the view has a UIContentConfiguration stored. </p></li><li class="css-0"><p class="css-1ccrm8j"><code class="css-0">updated(for:)</code> returns a new configuration applying a given state to, for example, change the cell background color when the user taps it.</p></li></ul><p class="css-1ccrm8j">Our custom configuration will have to implement both functions. We&#x27;ll define it as follows:</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">SimpleCellConfiguration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> photo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Photo</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> subtitle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">6</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">set</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">8</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> photo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Photo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> subtitle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">AnyHashable</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token nil constant" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> titleOverrideColor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIColor</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token nil constant" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> replyIconKind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">ReplyIconKind</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">none</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token nil constant" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> id</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">photo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> photo</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> title</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subtitle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subtitle</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> state</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">15</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">16</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">makeContentView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token class-name">View</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">19</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">20</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">21</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">updated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIConfigurationState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">Configuration</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> mutableCopy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">self</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">23</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> cellState </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> state </span><span class="token keyword" style="color:#00009f">as</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">24</span><span class="token plain">            mutableCopy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">  cellState</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">25</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> mutableCopy</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">27</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">28</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">29</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p class="css-1ccrm8j">Here we can see that we moved all the code in the <code class="css-0">ViewModel</code> struct into the <code class="css-0">Configuration</code>. We also added the <code class="css-0">state</code> property on it, which will hold relevant properties such as <code class="css-0">isSelected</code> or <code class="css-0">isHighlighted</code>.</p><p class="css-1ccrm8j">Also, you can the UIContentConfiguration functions implemented. They are very straightforward, but note that we must pass <code class="css-0">self</code> to the view, so that it holds the data to configure itself. <code class="css-0">updated(for:)</code> just mutates the configuration, changing its state and returns a fresh copy for te view to be reconfigured.</p><p class="css-1ccrm8j">We also need to define our view. It must be both <code class="css-0">UIView</code> and <code class="css-0">UIContentView</code>. That in turn requires that it has a configuration set in. Furthermore, it will have a <code class="css-0">init(configuration:)</code>, so that it can be instantiantiated from the makeView() method.</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SimpleCellView</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">5</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">configuration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zero</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Layout Code</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">11</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token function" style="color:#d73a49">configureFor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">14</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p class="css-1ccrm8j">In the <code class="css-0">init</code> method, we&#x27;ll also include all the layout code the previous SimpleCollectionViewCell had. Note also that here we must configure the view, meaning populating its UILabel, UIImageView, etc. with actual content, which is passed in the init method.</p><p class="css-1ccrm8j">This <code class="css-0">configureFor(configuration:)</code> has basically the same code it had before, but it will also contain the code to style the state changes in the cell</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">configureFor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain">    titleLabel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain">    subtitleLabel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subtitle</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">4</span><span class="token plain">    photoImageView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">photo</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">5</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">7</span><span class="token plain">        backgroundColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isSelected </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">9</span><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cellSelectionBackgroundColor</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">10</span><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isHighlighted </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">11</span><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">systemGray3</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">12</span><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">13</span><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">14</span><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">16</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">17</span><span class="token plain">        </span><span class="token function" style="color:#d73a49">addShadow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">18</span><span class="token plain">        backgroundColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">19</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">20</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p class="css-1ccrm8j">Note that here we merged the two properties related to state, <code class="css-0">isSelected</code> and <code class="css-0">isHighlighted</code> in a single state change. State now doesn&#x27;t have to be defined all over the UIView code, and it can be set from one single method.</p><style data-emotion="css 1o6lusp">.css-1o6lusp{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1o6lusp{font-size:1.875rem;}}@media screen and (min-width: 768px){.css-1o6lusp{font-size:1.875rem;}}@media screen and (min-width: 1024px){.css-1o6lusp{font-size:2.25rem;}}</style><h3 class="css-1o6lusp">How are changes in the configuration affect the view?</h3><p class="css-1ccrm8j">So far we saw how we create a cell using the configuration. But if we tap on the cell, the background is not being changed. This is because we lack the last piece of the puzzle: Updates.</p><p class="css-1ccrm8j">As we can see from the updated(for state:) method, we can mutate the configuration whenever a change is needed. This in turn will change the instance of the configuration defined in SimpleCellView. But that does not change any views yet. So we need to set a trigger for that to happen. So we add a <code class="css-0">didSet</code> trigger to the SimpleCellView&#x27;s configuration:</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">didSet</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain">                </span><span class="token keyword" style="color:#00009f">guard</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> oldConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> oldValue </span><span class="token keyword" style="color:#00009f">as</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">4</span><span class="token plain">                      </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration </span><span class="token keyword" style="color:#00009f">as</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">5</span><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> oldConfig </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">6</span><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">configureFor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">7</span><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p class="css-1ccrm8j">Here we make sure that the configuration really changed, so we need SimpleCellConfiguration to conform to Equatable as well. But aside from that, we just need to call <code class="css-0">configureFor(configuration:)</code> again to see the change take effect.</p><p class="css-1ccrm8j">And thats really it! Here you can se the complete code.</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">4</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> photo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Photo</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">5</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> subtitle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">7</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">private</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">set</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">9</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> photo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Photo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> subtitle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">AnyHashable</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token nil constant" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> titleOverrideColor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIColor</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token nil constant" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> replyIconKind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">ReplyIconKind</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">none</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token nil constant" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">11</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> id</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">12</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">photo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> photo</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">13</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> title</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">14</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subtitle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subtitle</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">15</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> state</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">17</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">makeContentView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">19</span><span class="token plain">            </span><span class="token class-name">View</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">20</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">21</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">updated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIConfigurationState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">Configuration</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">23</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> mutableCopy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">self</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">24</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> cellState </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> state </span><span class="token keyword" style="color:#00009f">as</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">25</span><span class="token plain">                mutableCopy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">  cellState</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">26</span><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">27</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> mutableCopy</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">29</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">30</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">31</span><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">32</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">View</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">33</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">34</span><span class="token plain">            </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">36</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">37</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">38</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">configuration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">39</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zero</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">40</span><span class="token plain">            </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">41</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Layout Code</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">42</span><span class="token plain">            </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">43</span><span class="token plain">            </span><span class="token function" style="color:#d73a49">configureFor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">44</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">45</span><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">46</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">configureFor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">47</span><span class="token plain">            titleLabel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">48</span><span class="token plain">            subtitleLabel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subtitle</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">49</span><span class="token plain">            photoImageView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">photo</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">50</span><span class="token plain">                </span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">51</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">52</span><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isSelected </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">53</span><span class="token plain">                    </span><span class="token function" style="color:#d73a49">removeShadow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">54</span><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">55</span><span class="token plain">                    </span><span class="token function" style="color:#d73a49">addVideoaskShadow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">56</span><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">57</span><span class="token plain">                backgroundColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">58</span><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isSelected </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">59</span><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cellSelectionBackgroundColor</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">60</span><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isHighlighted </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">61</span><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">systemGray3</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">62</span><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">63</span><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">64</span><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">65</span><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">66</span><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">67</span><span class="token plain">                </span><span class="token function" style="color:#d73a49">addVideoaskShadow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">68</span><span class="token plain">                backgroundColor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Constants</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">DefaultBackgroundColor</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">69</span><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">70</span><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">71</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">72</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><h3 class="css-1o6lusp">How do we use that in our UICollectionViewDiffableDataSource?</h3><p class="css-1ccrm8j">Now with everything in place, our registration and dequeue process looks much like the same as before, but applying the configuration instead:</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> simpleCellRegistration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">UICollectionView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">CellRegistration</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token class-name">UICollectionViewCell</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain">    cell</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">configuration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configuration</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> dataSource </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">UICollectionViewDiffableDataSource</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token class-name">Section</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">collectionView</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> collectionView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cv</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">UICollectionViewCell</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> item </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">simpleCell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> cv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">dequeueConfiguredReusableCell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">using</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> simpleCellRegistration</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">10</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">11</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p class="css-1ccrm8j">Here, the <code class="css-0">simpleCellRegistration</code> is generic over a plain <code class="css-0">UICollectionViewCell</code> and <code class="css-0">UIContentConfiguration</code>. We don&#x27;t need to specify any subclass or implementation of those things. So how does that work?</p><p class="css-1ccrm8j">The answer lies in the structure of the DataSource Item. Notice that whenever we call <code class="css-0">cv.dequeueConfiguredReusableCell(using: simpleCellRegistration, for: indexPath, item: configuration)</code>.</p><p class="css-1ccrm8j">Here we can see the how the Item is now defined:</p><div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" style="color:#393A34;background-color:#f6f8fa" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-swift"><div class="token-line" style="color:#393A34"><span class="line-number-style">1</span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Hashable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">simpleCell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p class="css-1ccrm8j"> we pass in a configuration which will be the actual SimpleCell.Configuration we defined previously. It, in turn, will call makeView(), which will create an actual instance of SimpleCell.View. The result of that will be set as the new contentView for the plain UICollectionViewCell that is being dequeued, all without subclassing it. Isn&#x27;t it nice?</p><p class="css-1ccrm8j">Also, it covers updates on that configuration. In the case for a state change, UIKit will immediatly call SimpleCell.Configuration <code class="css-0">updated(for state:)</code> method, which in turn will update the configuration on the SimpleCell.View and call <code class="css-0">configureFor(configuration:)</code>, so everything keeps in sync. Moreover, if there&#x27;s a data change and we need to call <code class="css-0">reconfigureItems()</code> on the dataSource, the cell will be dequeued, which will set the configuration again, calling <code class="css-0">updated(for state:)</code>.</p><h2 class="css-kih3f7">Conclusion</h2><p class="css-1ccrm8j">With that, is as simple as changing types wherever we used <code class="css-0">SimpleCollectionViewCell</code> to the new <code class="css-0">SimpleCell.View</code> and <code class="css-0">SimpleCollectionViewCell.ViewModel</code> to <code class="css-0">SimpleCell.Configuration</code>.</p><p class="css-1ccrm8j">And that&#x27;s it! Using that structure we can now implement the same things we previously had, without the hassle of having all the state properties attached to the view, all while relying on UIKit to do the heavy lifting of deciding when to update content and state.</p></section><style data-emotion="css y7pay1">.css-y7pay1{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide);padding-top:1rem;}.css-y7pay1 a{color:var(--theme-ui-colors-secondary);-webkit-text-decoration:none;text-decoration:none;}.css-y7pay1 a:hover{color:var(--theme-ui-colors-heading);-webkit-text-decoration:underline;text-decoration:underline;}.css-y7pay1 a:focus{color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-y7pay1{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width: 768px){.css-y7pay1{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-y7pay1"><div class="css-4cffwv"><style data-emotion="css mdvzbd">.css-mdvzbd{box-sizing:border-box;margin:0;min-width:0;min-width:130px;margin:20px 0;}</style><div class="css-mdvzbd"><div data-gatsby-image-wrapper="" style="border-radius:100%" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:120px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;120&#x27; width=&#x27;120&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/f59eb60de83d287229102563054976fd/bde72/img.webp 30w,/static/f59eb60de83d287229102563054976fd/927d1/img.webp 60w,/static/f59eb60de83d287229102563054976fd/507b0/img.webp 120w,/static/f59eb60de83d287229102563054976fd/8d565/img.webp 240w" sizes="(min-width: 120px) 120px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 120px) 120px, 100vw" decoding="async" loading="lazy" data-src="/static/f59eb60de83d287229102563054976fd/a8b52/img.png" data-srcset="/static/f59eb60de83d287229102563054976fd/53973/img.png 30w,/static/f59eb60de83d287229102563054976fd/7ab40/img.png 60w,/static/f59eb60de83d287229102563054976fd/a8b52/img.png 120w,/static/f59eb60de83d287229102563054976fd/87351/img.png 240w" alt="Profile picture of Pier"/></picture><noscript><picture><source type="image/webp" srcSet="/static/f59eb60de83d287229102563054976fd/bde72/img.webp 30w,/static/f59eb60de83d287229102563054976fd/927d1/img.webp 60w,/static/f59eb60de83d287229102563054976fd/507b0/img.webp 120w,/static/f59eb60de83d287229102563054976fd/8d565/img.webp 240w" sizes="(min-width: 120px) 120px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 120px) 120px, 100vw" decoding="async" loading="lazy" src="/static/f59eb60de83d287229102563054976fd/a8b52/img.png" srcSet="/static/f59eb60de83d287229102563054976fd/53973/img.png 30w,/static/f59eb60de83d287229102563054976fd/7ab40/img.png 60w,/static/f59eb60de83d287229102563054976fd/a8b52/img.png 120w,/static/f59eb60de83d287229102563054976fd/87351/img.png 240w" alt="Profile picture of Pier"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></div><style data-emotion="css vurnku">.css-vurnku{box-sizing:border-box;margin:0;min-width:0;}</style><div class="css-vurnku"><p class="css-1ccrm8j">Pier just Landed! Any questions? Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p></div></div></footer></div><footer class="css-y7pay1"><div>© <!-- -->2021<!-- --> by <!-- -->The Left Bit Stories<!-- -->. All rights reserved.</div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><span style="position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0"><span aria-hidden="true" style="position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0;font-family:&quot;IBM Plex Sans&quot;"> </span></span><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/content-configuration";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-39eb941c30cc769e16b5.js"],"app":["/app-cd4d004b529eb3ba49c8.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-53dfb80ddada3174dc0c.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-blog-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-blog-query-tsx-b844f69d7922491bb385.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx-432b9927b537dbc30ed5.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-page-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-page-query-tsx-4e850adc092313c2d164.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-8e02581b1858d789e8c5.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-tags-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-tags-query-tsx-4cae7dd784678a17b2a3.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-4cc59f05376916628e7e.js"]};/*]]>*/</script><script src="/polyfill-39eb941c30cc769e16b5.js" nomodule=""></script><script src="/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-8e02581b1858d789e8c5.js" async=""></script><script src="/11d48f5fb7ffd1420d6ec4a4a0455767faf7d24e-70108b9763bb8ee32b7c.js" async=""></script><script src="/app-cd4d004b529eb3ba49c8.js" async=""></script><script src="/framework-510ab03d518959fb4fd7.js" async=""></script><script src="/webpack-runtime-28d42b8ee0056b4174ff.js" async=""></script></body></html>